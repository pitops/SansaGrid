// Clearfix
%clearfix:after {
  display:block;
  clear:both;
  content:'';
}

// Variables
$gutter:3%;
$col-total:12;

// Grid system base
.row {

  @extend %clearfix;
  & + & {
    margin-top:1%;
  }
           }

[class^="col-"]{

  float:left;
  margin-right: $gutter;
  -webkit-box-sizing:border-box;
  -moz-box-sizing:border-box;
  box-sizing:border-box;

  &:last-child{
    margin-right:0;
  }

}

// Grid system computation
@function grid_calc($col_num,$div_percent,$type,$remove_gutter:0%){
   @if($type == "column"){
     @return (100% / $div_percent) - ($gutter * (12-$col_num) /12)
   }@else if ($type == "offset"){
     @return (100% / $div_percent) - ($gutter * (12-$col_num) /12) +($gutter - $remove_gutter)
   }
}

@for $i from 1 through $col-total {
  .col-#{$i} {
    width:  grid_calc($i,12/$i,"column");
  }
}

@for $i from 1 through $col-total {
  @if(12/$i == 1){
    .offset-#{$i} {
      margin-left:  grid_calc($i,12/$i,"offset",3);
    }
  }@else{
    .offset-#{$i} {
      margin-left:  grid_calc($i,12/$i,"offset");
    }
  }
}

